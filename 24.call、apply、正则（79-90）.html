<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>正则表达式、call</title>
</head>
<body>
<script>
    /*
    * call()和apply()-->函数对象方法
    *  - 这两个方法都是函数对象的方法，需要通过函数对象来调用
    *  - 当对函数调用call()和apply()都会调用函数执行
    *  - 在调用call()和apply()可以将一个对象指定为第一个参数
    *       此时这个对象将会成为函数执行的this
    *  - call()方法可以将实参在对象之后依次传递 //fun.call(obj1,2,3);
    *  - apply()方法需要将实参封装到一个数组统一传递 //fun.apply(obj1,[2,3]);
    *
    *   - this的情况
    *       1、以函数形式调用时，this永远都是window
    *       2、以方法的形式调用时，this是调用方法的对象
    *       3、以构造函数的形式调用时，this是新创建的那个对象
    *       4、使用call和apply调用时，this是指定的那个对象
    * */
    function fun(a,b) {
        // console.log(this.name);
        console.log("a=" + a);
        console.log("b=" + b);
    }
    var obj={
        name:"obj"
    };
    var obj1={
        name:"obj1"
    };
    //fun.call(obj1,2,3);
    fun.apply(obj1,[2,3]);
    //fun.apply(obj1,2,3);//这样会报错
    // fun.apply();
    //fun();//这种方式this指向-->window


    /*
    * 在调用函数时，浏览器每次都会传递进两个隐含的参数：
    * 1、函数的上下文对象this
    * 2、封装实参的对象arguments
    *       - arguments是一个类数组对象，它可以通过索引来操作数据，也可以获取长度
    *       - 在调用函数时，我们所传递的实参都会在arguments中保存
    *       - arguments.length可以用来获取实参长度
    *       - 我们即使不定义形参，也可以通过arguments来使用实参，
    *           只不过比较麻烦
    *           arguments[0] 表示第一个参数
    *           arguments[1] 表示第二个参数。。。
    *       - 它里边有一个属性叫做callee，
    *           这个属性对应一个函数对象，就是当前正在指向的函数的对象
    * */
    function fun1(a,b){
        //console.log(arguments instanceof Array); //检查是否为数组
        console.log(Array.isArray(arguments)); //检查是否为数组
        console.log(arguments[0]);  //hello
        console.log("fun1实参的个数为："+arguments.length);
        console.log(arguments.callee==fun1); //true
    }
    fun1("hello",true);

    /*
    *   在JS中使用date对象来表示一个时间
    * */
    //如果直接使用构造函数创建一个Date对象，则会封装为当时代码执行的时间
    var d=new Date();
    console.log(d);

    //创建一个指定的时间对象
    //需要在构造函数中传递一个表示时间的字符串作为参数
    //日期的格式： 月份/日/年 时:分:秒
    var d2=new Date("12/03/2019 11:10:50");
    console.log(d2);

    /*
        getDate()
            - 获取当前日期对象是几日
    * */
    var date=d2.getDate();
    console.log("data=" + date);

    /*
    * getDay()
    * - 获取当前日期对象（周几）
    * - 会返回一个0-6的值
    *   0 表示周日
    *   1 表示周一。。。
    * */
    var day=d.getDay();
    console.log("day="+day); //4 表示周四

    /*
    getMonth()表示获取月份
     - 获取当前时间对象月份
        - 会返回0-11的值
            0表示1月
            1表示2月
            11表示12月
    * */

    /*
    * getFullYear()表示获取四位时间年份
    * */

    /*
    * getTime()
    *  - 获取当前日期对象的时间戳
    *  - 时间戳：指的是从格林威治标准时间的1970年1月1日，0时0分0秒
    *       到当前日期所花费的毫秒数（1秒=1000毫秒）
    *  - 计算机底层在保存时间时使用的时间戳
    * */
    var time=d.getTime();
    console.log("当前时间戳为："+time);

    var d3=new Date("1/1/1970 0:0:0");//中国时间
    time=d3.getTime();
    console.log(time);//-28800000  这里有时区差，相差8个小时

   //利用时间戳来测试代码的执行的性能
        //获取当前时间戳 Date.now();

    var start =Date.now();
    for(var i=0;i<100000;i++){

    }
    var end=Date.now();
    console.log("程序执行的时间性能：" + (end - start) + "毫秒");


    /*
    * Math
    *   - Math和其他的对象不同，它不是一个构造函数，
    *       它属于一个工具类，不用创建对象，它里面封装了数学的属性和方法
    *   具体用法参数w3c文档
    *   Math.random()  //生成0-1之间的随机数
    *   Math.round()   //四舍五入
    *
    *   - 生成0-10的随机数
    *   - 生成0-x之间的随机数
    *       Math.round(Math.random()*x);
    *
    *   - 生成一个1-10
    *   - 生成一个x-y之间的随机数
    *       Math.round(Math.random()*9)+1
    *      模型： Math.round(Math.random()*(y-x)+x)
    * */
    for(var i=0;i<100;i++){
        console.log(Math.round(Math.random()*9)+1);//生成1-10的随机数
    }


</script>
</body>
</html>